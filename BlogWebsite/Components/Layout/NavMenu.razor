@implements IDisposable

@inject NavigationManager NavigationManager

<input type="checkbox" title="Navigation menu" class="navbar-toggler" />

<MudNavMenu Color="Color.Success"  Class="">
    <MudNavLink Match="NavLinkMatch.Prefix" Href="/listPost" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.AutoStories"></MudIcon>
        <MudText>Trang chủ</MudText>
    </MudNavLink>

    <MudNavLink Match="NavLinkMatch.Prefix" Href="/weather" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.TrendingUp"></MudIcon>
        <MudText>Thịnh hành</MudText>
    </MudNavLink>

    <MudNavLink Match="NavLinkMatch.Prefix" Href="/createQuestion" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.Explore"></MudIcon>
        <MudText>Khám phá</MudText>
    </MudNavLink>

    <MudNavLink Match="NavLinkMatch.Prefix" Href="/download-excel" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.AutoFixHigh"></MudIcon>
        <MudText>Download Excel</MudText>
    </MudNavLink>

    <MudNavLink Match="NavLinkMatch.Prefix" Href="/Error" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.Save"></MudIcon>
        <MudText>Theo dõi</MudText>
    </MudNavLink>

    <MudNavLink Match="NavLinkMatch.Prefix" Href="/question" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.DataArray"></MudIcon>
        <MudText>Cộng đồng</MudText>
    </MudNavLink>

    <MudNavLink Match="NavLinkMatch.Prefix" Href="/=" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.Kayaking"></MudIcon>
        <MudText>Đã lưu</MudText>
    </MudNavLink>

    <MudNavLink Match="NavLinkMatch.Prefix" Href="/Error" Class="rounded-3 overflow-hidden m-3">
        <MudIcon Icon="@Icons.Material.Filled.Accessibility"></MudIcon>
        <MudText>Thống kê</MudText>
    </MudNavLink>

    <MudNavGroup Title="Tài nguyên" Icon="@Icons.Material.Filled.Settings" Expanded="true" Class="rounded-3 overflow-hidden m-3 py-3" Style="width:200px;">
        <MudNavLink Href="/users" Icon="@Icons.Material.Filled.People" IconColor="Color.Success" Class="rounded-3 overflow-hidden m-3">About Kaizen</MudNavLink>
        <MudNavLink Href="/security" Icon="@Icons.Material.Filled.Security" IconColor="Color.Info" Class="rounded-3 overflow-hidden m-3">Dịch vụ</MudNavLink>
        <MudNavLink Href="/security" Icon="@Icons.Material.Filled.Security" IconColor="Color.Info" Class="rounded-3 overflow-hidden m-3">Liên hệ </MudNavLink>
        <MudNavLink Href="/security" Icon="@Icons.Material.Filled.Security" IconColor="Color.Info" Class="rounded-3 overflow-hidden m-3">Best of Kaizen</MudNavLink>
    </MudNavGroup>
</MudNavMenu>

@code {
    private string? currentUrl;

    protected override void OnInitialized()
    {
        currentUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
        NavigationManager.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object? sender, LocationChangedEventArgs e)
    {
        currentUrl = NavigationManager.ToBaseRelativePath(e.Location);
        StateHasChanged();
    }

    public void Dispose()
    {
        NavigationManager.LocationChanged -= OnLocationChanged;
    }
}

@code {
    public bool ToolbarCheckBox { get; set; } = false;
    string _selectedFolder = "Inbox";
}

